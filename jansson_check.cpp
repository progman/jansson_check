//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
// 0.0.1
// Alexey Potehin <gnuplanet@gmail.com>, http://www.gnuplanet.ru/doc/cv
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
#include <stdio.h>
#include <jansson.h>
#include <string>
#include <string.h>
#include <errno.h>
#include "submodule/libcore.cpp/libcore.hpp"
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
// view help
void help(const char *name)
{
	printf("%s    %s\n", PROG_FULL_NAME, PROG_URL);
	printf("example: %s FILE.JSON\n", name);
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
// general function
int main(int argc, char *argv[])
{
	int rc;


	if (argc != 2)
	{
		help(argv[0]);
		return 1;
	}


	std::string data;
	rc = libcore::file_get(argv[1], 0, data);
	if (rc == -1)
	{
		printf("ERROR[libcore::file_get()]: %s\n", strerror(errno));
		return 1;
	}


	json_t *root;
	json_error_t error;


	root = json_loads(data.c_str(), 0, &error);
	if (!root)
	{
		fprintf(stderr, "ERROR on line %d: %s\n", error.line, error.text);
		return 1;
	}


//	fprintf(stdout, "ok\n");


	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
